<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Demiurge::Container
  
    &mdash; Demiurge API Documentation
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Demiurge::Container";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Demiurge.html" title="Demiurge (module)">Demiurge</a></span></span>
     &raquo; 
    <span class="title">Container</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Demiurge::Container
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="ActionItem.html" title="Demiurge::ActionItem (class)">ActionItem</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="StateItem.html" title="Demiurge::StateItem (class)">StateItem</a></span></li>
          
            <li class="next"><span class='object_link'><a href="ActionItem.html" title="Demiurge::ActionItem (class)">ActionItem</a></span></li>
          
            <li class="next">Demiurge::Container</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/demiurge/container.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Container is the parent class of Locations, Zones and other items that can
contain items.</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Location.html" title="Demiurge::Location (class)">Location</a></span>, <span class='object_link'><a href="Zone.html" title="Demiurge::Zone (class)">Zone</a></span></p>
</div>



  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants inherited
     from <span class='object_link'><a href="ActionItem.html" title="Demiurge::ActionItem (class)">ActionItem</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ActionItem.html#ACTION_LEGAL_KEYS-constant" title="Demiurge::ActionItem::ACTION_LEGAL_KEYS (constant)">ActionItem::ACTION_LEGAL_KEYS</a></span></p>




  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="StateItem.html" title="Demiurge::StateItem (class)">StateItem</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="StateItem.html#engine-instance_method" title="Demiurge::StateItem#engine (method)">#engine</a></span>, <span class='object_link'><a href="StateItem.html#name-instance_method" title="Demiurge::StateItem#name (method)">#name</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#can_accomodate_agent%3F-instance_method" title="#can_accomodate_agent? (instance method)">#<strong>can_accomodate_agent?</strong>(agent, position)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This method determines if a given agent can exist at the specified position
inside this container.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#contents-instance_method" title="#contents (instance method)">#<strong>contents</strong>  &#x21d2; Array&lt;Demiurge::StateItem&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the contents array as items, not names.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#contents_names-instance_method" title="#contents_names (instance method)">#<strong>contents_names</strong>  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets the array of item names of all items contained in this container.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ensure_contains-instance_method" title="#ensure_contains (instance method)">#<strong>ensure_contains</strong>(item_name)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This makes sure the given item name is listed in the container&#39;s
contents.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ensure_does_not_contain-instance_method" title="#ensure_does_not_contain (instance method)">#<strong>ensure_does_not_contain</strong>(item_name)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This makes sure the given item name is <em>not</em> listed in the
container&#39;s contents.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#finished_init-instance_method" title="#finished_init (instance method)">#<strong>finished_init</strong>  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The finished_init hook is called after all items are loaded.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(name, engine, state)  &#x21d2; void </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Constructor - set up contents.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#intentions_for_next_step-instance_method" title="#intentions_for_next_step (instance method)">#<strong>intentions_for_next_step</strong>  &#x21d2; Array&lt;Intention&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This determines the intentions for the next tick for this container and for
all items inside it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#item_change_location-instance_method" title="#item_change_location (instance method)">#<strong>item_change_location</strong>(item, old_pos, new_pos)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This is a callback to indicate that an item has changed from one location
to another.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#item_change_position-instance_method" title="#item_change_position (instance method)">#<strong>item_change_position</strong>(item, old_pos, new_pos)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This is a callback to indicate that an item has changed position, but
remains inside this location.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#move_item_inside-instance_method" title="#move_item_inside (instance method)">#<strong>move_item_inside</strong>(item)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This makes sure the given StateItem is contained in this container.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#receive_offer-instance_method" title="#receive_offer (instance method)">#<strong>receive_offer</strong>(action_name, intention)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>When an item has an <span class='object_link'><a href="Intention.html" title="Demiurge::Intention (class)">Intention</a></span>, that Intention is offered in
order to be potentially modified or cancelled by environmental effects.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="ActionItem.html" title="Demiurge::ActionItem (class)">ActionItem</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ActionItem.html#__state_internal-instance_method" title="Demiurge::ActionItem#__state_internal (method)">#__state_internal</a></span>, <span class='object_link'><a href="ActionItem.html#get_action-instance_method" title="Demiurge::ActionItem#get_action (method)">#get_action</a></span>, <span class='object_link'><a href="ActionItem.html#get_actions_with_tags-instance_method" title="Demiurge::ActionItem#get_actions_with_tags (method)">#get_actions_with_tags</a></span>, <span class='object_link'><a href="ActionItem.html#location-instance_method" title="Demiurge::ActionItem#location (method)">#location</a></span>, <span class='object_link'><a href="ActionItem.html#location_name-instance_method" title="Demiurge::ActionItem#location_name (method)">#location_name</a></span>, <span class='object_link'><a href="ActionItem.html#position-instance_method" title="Demiurge::ActionItem#position (method)">#position</a></span>, <span class='object_link'><a href="ActionItem.html#register_actions-instance_method" title="Demiurge::ActionItem#register_actions (method)">#register_actions</a></span>, <span class='object_link'><a href="ActionItem.html#run_action-instance_method" title="Demiurge::ActionItem#run_action (method)">#run_action</a></span>, <span class='object_link'><a href="ActionItem.html#zone-instance_method" title="Demiurge::ActionItem#zone (method)">#zone</a></span>, <span class='object_link'><a href="ActionItem.html#zone_name-instance_method" title="Demiurge::ActionItem#zone_name (method)">#zone_name</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="StateItem.html" title="Demiurge::StateItem (class)">StateItem</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="StateItem.html#agent%3F-instance_method" title="Demiurge::StateItem#agent? (method)">#agent?</a></span>, <span class='object_link'><a href="StateItem.html#from_name_type-class_method" title="Demiurge::StateItem.from_name_type (method)">from_name_type</a></span>, <span class='object_link'><a href="StateItem.html#get_structure-instance_method" title="Demiurge::StateItem#get_structure (method)">#get_structure</a></span>, <span class='object_link'><a href="StateItem.html#state-instance_method" title="Demiurge::StateItem#state (method)">#state</a></span>, <span class='object_link'><a href="StateItem.html#state_type-instance_method" title="Demiurge::StateItem#state_type (method)">#state_type</a></span>, <span class='object_link'><a href="StateItem.html#zone%3F-instance_method" title="Demiurge::StateItem#zone? (method)">#zone?</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(name, engine, state)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Constructor - set up contents</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The Engine-unique item name</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>engine</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Engine.html" title="Demiurge::Engine (class)">Demiurge::Engine</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The Engine this item is part of</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>state</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>State data to initialize from</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.0.1</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/demiurge/container.rb', line 13</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_engine'>engine</span><span class='comma'>,</span> <span class='id identifier rubyid_state'>state</span><span class='rparen'>)</span>
  <span class='kw'>super</span>
  <span class='id identifier rubyid_state'>state</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>contents</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="can_accomodate_agent?-instance_method">
  
    #<strong>can_accomodate_agent?</strong>(agent, position)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This method determines if a given agent can exist at the specified position
inside this container. By default, a container can accomodate anyone or
anything. Subclass to change this behavior. This should take into account
the size, shape and current condition of the agent, and might take into
account whether the agent has certain movement abilities.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>agent</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Agent.html" title="Demiurge::Agent (class)">Demiurge::Agent</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The agent being checked</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>position</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The position being checked within this container</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Whether the agent can exist at that position</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.0.1</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


183
184
185</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/demiurge/container.rb', line 183</span>

<span class='kw'>def</span> <span class='id identifier rubyid_can_accomodate_agent?'>can_accomodate_agent?</span><span class='lparen'>(</span><span class='id identifier rubyid_agent'>agent</span><span class='comma'>,</span> <span class='id identifier rubyid_position'>position</span><span class='rparen'>)</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="contents-instance_method">
  
    #<strong>contents</strong>  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="StateItem.html" title="Demiurge::StateItem (class)">Demiurge::StateItem</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the contents array as items, not names.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="StateItem.html" title="Demiurge::StateItem (class)">Demiurge::StateItem</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The array of items contained in this item</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.3.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/demiurge/container.rb', line 31</span>

<span class='kw'>def</span> <span class='id identifier rubyid_contents'>contents</span>
  <span class='id identifier rubyid_state'>state</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>contents</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span> <span class='ivar'>@engine</span><span class='period'>.</span><span class='id identifier rubyid_item_by_name'>item_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="contents_names-instance_method">
  
    #<strong>contents_names</strong>  &#x21d2; <tt>Array&lt;String&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets the array of item names of all items contained in this container.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The array of item names</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.0.1</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


23
24
25</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/demiurge/container.rb', line 23</span>

<span class='kw'>def</span> <span class='id identifier rubyid_contents_names'>contents_names</span>
  <span class='id identifier rubyid_state'>state</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>contents</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ensure_contains-instance_method">
  
    #<strong>ensure_contains</strong>(item_name)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>This makes sure the given item name is listed in the container&#39;s
contents. It does <em>not</em> make sure that the item currently exists, or
that its position is set to this container.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>item_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The item name to ensure is listed in the container</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#move_item_inside-instance_method" title="Demiurge::Container#move_item_inside (method)">#move_item_inside</a></span></li>
    
      <li><span class='object_link'><a href="#ensure_does_not_contain-instance_method" title="Demiurge::Container#ensure_does_not_contain (method)">#ensure_does_not_contain</a></span></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.0.1</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


58
59
60
61
62</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/demiurge/container.rb', line 58</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ensure_contains'>ensure_contains</span><span class='lparen'>(</span><span class='id identifier rubyid_item_name'>item_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pass only item names to ensure_contains!</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_item_name'>item_name</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span>
  <span class='ivar'>@state</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>contents</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>|=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_item_name'>item_name</span><span class='rbracket'>]</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ensure_does_not_contain-instance_method">
  
    #<strong>ensure_does_not_contain</strong>(item_name)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>This makes sure the given item name is <em>not</em> listed in the
container&#39;s contents. It does not make sure the item exists, nor do
anything with the item&#39;s position.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>item_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The item name</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#ensure_contains-instance_method" title="Demiurge::Container#ensure_contains (method)">#ensure_contains</a></span></li>
    
      <li><span class='object_link'><a href="#move_item_inside-instance_method" title="Demiurge::Container#move_item_inside (method)">#move_item_inside</a></span></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.0.1</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


73
74
75
76
77</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/demiurge/container.rb', line 73</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ensure_does_not_contain'>ensure_does_not_contain</span><span class='lparen'>(</span><span class='id identifier rubyid_item_name'>item_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pass only item names to ensure_does_not_contain!</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_item_name'>item_name</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span>
  <span class='ivar'>@state</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>contents</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>-=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_item_name'>item_name</span><span class='rbracket'>]</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="finished_init-instance_method">
  
    #<strong>finished_init</strong>  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>The finished_init hook is called after all items are loaded. For
containers, this makes sure all items set as contents of this container
also have it correctly set as their position.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.0.1</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41
42
43
44
45
46
47</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/demiurge/container.rb', line 41</span>

<span class='kw'>def</span> <span class='id identifier rubyid_finished_init'>finished_init</span>
  <span class='comment'># Can&#39;t move all items inside until they all exist, which isn&#39;t guaranteed until init is finished.
</span>  <span class='id identifier rubyid_state'>state</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>contents</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='id identifier rubyid_move_item_inside'>move_item_inside</span><span class='lparen'>(</span><span class='ivar'>@engine</span><span class='period'>.</span><span class='id identifier rubyid_item_by_name'>item_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="intentions_for_next_step-instance_method">
  
    #<strong>intentions_for_next_step</strong>  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Intention.html" title="Demiurge::Intention (class)">Intention</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This determines the intentions for the next tick for this container and for
all items inside it.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Intention.html" title="Demiurge::Intention (class)">Intention</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The array of intentions for next tick</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.0.1</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


192
193
194
195
196
197
198
199</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/demiurge/container.rb', line 192</span>

<span class='kw'>def</span> <span class='id identifier rubyid_intentions_for_next_step'>intentions_for_next_step</span>
  <span class='id identifier rubyid_intentions'>intentions</span> <span class='op'>=</span> <span class='kw'>super</span>
  <span class='ivar'>@state</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>contents</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item_name'>item_name</span><span class='op'>|</span>
    <span class='id identifier rubyid_item'>item</span> <span class='op'>=</span> <span class='ivar'>@engine</span><span class='period'>.</span><span class='id identifier rubyid_item_by_name'>item_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_item_name'>item_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_intentions'>intentions</span> <span class='op'>+=</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_intentions_for_next_step'>intentions_for_next_step</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_intentions'>intentions</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="item_change_location-instance_method">
  
    #<strong>item_change_location</strong>(item, old_pos, new_pos)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>This is a callback to indicate that an item has changed from one location
to another. This will normally require removing the item from its first
location and adding it to a new location. A different callback is called
when the item changes position within a single location.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>item</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="StateItem.html" title="Demiurge::StateItem (class)">Demiurge::StateItem</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The item changing position</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>old_pos</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The pre-movement position, which is current when this is called</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>new_pos</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The post-movement position, which should be current when this method
completes</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#item_change_position-instance_method" title="Demiurge::Container#item_change_position (method)">#item_change_position</a></span></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.0.1</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/demiurge/container.rb', line 129</span>

<span class='kw'>def</span> <span class='id identifier rubyid_item_change_location'>item_change_location</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span> <span class='id identifier rubyid_old_pos'>old_pos</span><span class='comma'>,</span> <span class='id identifier rubyid_new_pos'>new_pos</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_old_loc'>old_loc</span> <span class='op'>=</span> <span class='id identifier rubyid_old_pos'>old_pos</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_old_loc_item'>old_loc_item</span> <span class='op'>=</span> <span class='ivar'>@engine</span><span class='period'>.</span><span class='id identifier rubyid_item_by_name'>item_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_old_loc'>old_loc</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_old_loc_item'>old_loc_item</span><span class='period'>.</span><span class='id identifier rubyid_ensure_does_not_contain'>ensure_does_not_contain</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_loc'>new_loc</span> <span class='op'>=</span> <span class='id identifier rubyid_new_pos'>new_pos</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_new_loc_item'>new_loc_item</span> <span class='op'>=</span> <span class='ivar'>@engine</span><span class='period'>.</span><span class='id identifier rubyid_item_by_name'>item_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_new_loc'>new_loc</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new_loc_item'>new_loc_item</span><span class='period'>.</span><span class='id identifier rubyid_ensure_contains'>ensure_contains</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>position</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_new_pos'>new_pos</span>

  <span class='id identifier rubyid_old_zone'>old_zone</span> <span class='op'>=</span> <span class='id identifier rubyid_old_loc_item'>old_loc_item</span><span class='period'>.</span><span class='id identifier rubyid_zone_name'>zone_name</span>
  <span class='id identifier rubyid_new_zone'>new_zone</span> <span class='op'>=</span> <span class='id identifier rubyid_new_loc_item'>new_loc_item</span><span class='period'>.</span><span class='id identifier rubyid_zone_name'>zone_name</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_new_zone'>new_zone</span> <span class='op'>!=</span> <span class='id identifier rubyid_old_zone'>old_zone</span>
    <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>zone</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_new_zone'>new_zone</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="item_change_position-instance_method">
  
    #<strong>item_change_position</strong>(item, old_pos, new_pos)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>This is a callback to indicate that an item has changed position, but
remains inside this location. Other than changing the item&#39;s position
state variable, this may not require any changes. A different callback is
called when the item changes from one location to another.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>item</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="StateItem.html" title="Demiurge::StateItem (class)">Demiurge::StateItem</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The item changing position</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>old_pos</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The pre-movement position, which is current when this is called</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>new_pos</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The post-movement position, which should be current when this method
completes</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#item_change_location-instance_method" title="Demiurge::Container#item_change_location (method)">#item_change_location</a></span></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.0.1</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114
115</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/demiurge/container.rb', line 112</span>

<span class='kw'>def</span> <span class='id identifier rubyid_item_change_position'>item_change_position</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span> <span class='id identifier rubyid_old_pos'>old_pos</span><span class='comma'>,</span> <span class='id identifier rubyid_new_pos'>new_pos</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>position</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_new_pos'>new_pos</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="move_item_inside-instance_method">
  
    #<strong>move_item_inside</strong>(item)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>This makes sure the given StateItem is contained in this container. It sets
the item&#39;s position to be in this container, and if there is an old
location it attempts to properly remove the item from it.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>item</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="StateItem.html" title="Demiurge::StateItem (class)">Demiurge::StateItem</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The item to be moved into this container</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Agent.html#move_to_position-instance_method" title="Demiurge::Agent#move_to_position (method)">Agent#move_to_position</a></span></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.0.1</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90
91
92
93
94
95
96
97
98</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/demiurge/container.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_move_item_inside'>move_item_inside</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_old_pos'>old_pos</span> <span class='op'>=</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_old_pos'>old_pos</span>
    <span class='id identifier rubyid_old_loc_name'>old_loc_name</span> <span class='op'>=</span> <span class='id identifier rubyid_old_pos'>old_pos</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_old_loc'>old_loc</span> <span class='op'>=</span> <span class='ivar'>@engine</span><span class='period'>.</span><span class='id identifier rubyid_item_by_name'>item_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_old_loc_name'>old_loc_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_old_loc'>old_loc</span><span class='period'>.</span><span class='id identifier rubyid_ensure_does_not_contain'>ensure_does_not_contain</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='ivar'>@state</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>contents</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>|=</span> <span class='lbracket'>[</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='rbracket'>]</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="receive_offer-instance_method">
  
    #<strong>receive_offer</strong>(action_name, intention)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p>
<p>When an item has an <span class='object_link'><a href="Intention.html" title="Demiurge::Intention (class)">Intention</a></span>, that Intention is offered in
order to be potentially modified or cancelled by environmental effects. For
instance, a room might have a muddy floor that slows walking or prevents
running, or an icy floor that causes sliding around. That offer is normally
coordinated through the item&#39;s location. The location will receive this
callback (<span class='object_link'><a href="#receive_offer-instance_method" title="Demiurge::Container#receive_offer (method)">#receive_offer</a></span>) and make appropriate modifications to the
Intention. Any other items or agents that want to modify the Intention will
have to coordinate with the appropriate item location.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>action_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The name of the action for this Intention.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>intention</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Intention.html" title="Demiurge::Intention (class)">Demiurge::Intention</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The Intention being offered</p>
</div>
      
    </li>
  
</ul>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="../file.CONCEPTS.html" title="CONCEPTS">CONCEPTS</a></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.0.1</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


162
163
164
165
166
167
168
169
170</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/demiurge/container.rb', line 162</span>

<span class='kw'>def</span> <span class='id identifier rubyid_receive_offer'>receive_offer</span><span class='lparen'>(</span><span class='id identifier rubyid_action_name'>action_name</span><span class='comma'>,</span> <span class='id identifier rubyid_intention'>intention</span><span class='rparen'>)</span>
  <span class='comment'># Run handlers, if any
</span>  <span class='id identifier rubyid_on_actions'>on_actions</span> <span class='op'>=</span> <span class='ivar'>@state</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>on_action_handlers</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_on_actions'>on_actions</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_on_actions'>on_actions</span><span class='lbracket'>[</span><span class='id identifier rubyid_action_name'>action_name</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_on_actions'>on_actions</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>all</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_run_action'>run_action</span><span class='lparen'>(</span><span class='id identifier rubyid_on_actions'>on_actions</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>all</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_intention'>intention</span><span class='comma'>,</span> <span class='label'>current_intention:</span> <span class='id identifier rubyid_intention'>intention</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_on_actions'>on_actions</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>all</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_run_action'>run_action</span><span class='lparen'>(</span><span class='id identifier rubyid_on_actions'>on_actions</span><span class='lbracket'>[</span><span class='id identifier rubyid_action_name'>action_name</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_intention'>intention</span><span class='comma'>,</span> <span class='label'>current_intention:</span> <span class='id identifier rubyid_intention'>intention</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_on_actions'>on_actions</span><span class='lbracket'>[</span><span class='id identifier rubyid_action_name'>action_name</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Jan 16 12:25:10 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.3.1).
</div>

    </div>
  </body>
</html>