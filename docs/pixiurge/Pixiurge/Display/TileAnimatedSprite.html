<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Pixiurge::Display::TileAnimatedSprite
  
    &mdash; Pixiurge API Documentation
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Pixiurge::Display::TileAnimatedSprite";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (T)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Pixiurge.html" title="Pixiurge (module)">Pixiurge</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Display.html" title="Pixiurge::Display (module)">Display</a></span></span>
     &raquo; 
    <span class="title">TileAnimatedSprite</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Pixiurge::Display::TileAnimatedSprite
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="../Displayable.html" title="Pixiurge::Displayable (class)">Pixiurge::Displayable</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="../Displayable.html" title="Pixiurge::Displayable (class)">Pixiurge::Displayable</a></span></li>
          
            <li class="next">Pixiurge::Display::TileAnimatedSprite</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/pixiurge/displayable/tile_animated_sprite.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>TileAnimatedSprites are good for playing tile-based animations from
one or more tile sheeets.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.1.0</p>
</div>
      
    </li>
  
</ul>

</div>





  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="../Displayable.html" title="Pixiurge::Displayable (class)">Pixiurge::Displayable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Displayable.html#block_height-instance_method" title="Pixiurge::Displayable#block_height (method)">#block_height</a></span>, <span class='object_link'><a href="../Displayable.html#block_width-instance_method" title="Pixiurge::Displayable#block_width (method)">#block_width</a></span>, <span class='object_link'><a href="../Displayable.html#displayable_type-instance_method" title="Pixiurge::Displayable#displayable_type (method)">#displayable_type</a></span>, <span class='object_link'><a href="../Displayable.html#location_displayable-instance_method" title="Pixiurge::Displayable#location_displayable (method)">#location_displayable</a></span>, <span class='object_link'><a href="../Displayable.html#location_name-instance_method" title="Pixiurge::Displayable#location_name (method)">#location_name</a></span>, <span class='object_link'><a href="../Displayable.html#name-instance_method" title="Pixiurge::Displayable#name (method)">#name</a></span>, <span class='object_link'><a href="../Displayable.html#position-instance_method" title="Pixiurge::Displayable#position (method)">#position</a></span>, <span class='object_link'><a href="../Displayable.html#x-instance_method" title="Pixiurge::Displayable#x (method)">#x</a></span>, <span class='object_link'><a href="../Displayable.html#y-instance_method" title="Pixiurge::Displayable#y (method)">#y</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(parameters, name:, engine_connector:)  &#x21d2; TileAnimatedSprite </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Constructor - create the sprite.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#messages_to_show_player-instance_method" title="#messages_to_show_player (instance method)">#<strong>messages_to_show_player</strong>(player)  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Show this Displayable to a player.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../Displayable.html" title="Pixiurge::Displayable (class)">Pixiurge::Displayable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Displayable.html#destroy_for_player-instance_method" title="Pixiurge::Displayable#destroy_for_player (method)">#destroy_for_player</a></span>, <span class='object_link'><a href="../Displayable.html#move_for_player-instance_method" title="Pixiurge::Displayable#move_for_player (method)">#move_for_player</a></span>, <span class='object_link'><a href="../Displayable.html#show_to_player-instance_method" title="Pixiurge::Displayable#show_to_player (method)">#show_to_player</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(parameters, name:, engine_connector:)  &#x21d2; <tt><span class='object_link'><a href="" title="Pixiurge::Display::TileAnimatedSprite (class)">TileAnimatedSprite</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Constructor - create the sprite</p>

<p>In addition to normal Pixiurge Displayable parameters, a
TileAnimatedSprite takes a params hash in a very specific format.</p>

<p>For tilesets, the url property is where to load the tileset from,
usually on the game&#39;s asset server(s). The tile_width,
tile_height, spacing and margin define the size and location of
the frames within a tileset. The first_frame_id defaults to 1 for
the first tileset and gives the frame ID (number) for the very
first frame number of that tileset. For later tilesets, the frame
numbering begins with the next unused frame ID - so a tileset with
room for 24 images followed by a tileset with room for 6 images
will have frame IDs between 1 and 30 unless one of them sets
first_frame_id.</p>

<p>Properties for animations: frames, after (opt). Frames is an array.
each element may be an integer, in which case it&#39;s a frame ID</p>

<p>The default value for &quot;after&quot; is &quot;stop&quot;. Special values for
&quot;after&quot; are &quot;loop&quot; and &quot;stop&quot;. It can also be set to the name of
another animation in the same TileAnimatedSprite.</p>

<p>The &quot;tileset&quot; property of an animation gives the default tileset
for any frame that doesn&#39;t specify. The default value is the first
tileset.</p>

<p>The &quot;frames&quot; property of an animation is an array of frame
specifications. A frame can be a number, which is a frame number
as defined by the tilesets. A frame can also be a structure with a
duration and frame_id. Or it can be a structure with a duration,
an x and y coordinate for the upper left corner, a width and
height, and a tileset name.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>``` javascript
{
  tilesets: [
    {
      name: &quot;name1&quot;,
      url: &quot;https://first_url.com/path&quot;,
      tile_width: 32,
      tile_height: 32,
    },
    {
      name: &quot;name2&quot;,
      url: &quot;https://second_url.com/path&quot;,
      tile_width: 32,
      tile_height: 32,
      first_frame_id: 37,   # Frame ID of the first tile in this tileset
      spacing: 3, # Optional field, default 0
      margin: 2,  # Optional field, default 0
      reg_x: 16,  # Optional field for anchor/registration x coord, default 0
      reg_y: 16,  # Optional field for anchor/registration y coord, default 0
    }
  ],
  animations: {
    funny_walk: { frames: [ 1, 2, 3, 4, 5 ], after: &quot;loop&quot; },
    second_anim: { frames: [ 7, 2, 4, 1, 6 ] },
    third_anim: { frames: [
      { tileset: &quot;name1&quot;, x: 0, y: 0, width: 32, height: 32, duration: 100 },
      { frame_id: 7, duration: 150 },
      { tileset: &quot;name2&quot;, x: 32, y: 96, width: 32, height: 32, duration: 50 },
      7,
      15
    ], after: &quot;loop&quot; }
  }
  animation: &quot;funny_walk&quot;
}
```</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>parameters</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A JSON-serializable hash of  options to pass to the front end</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The Demiurge item name for this Displayable</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>engine_connector</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../EngineConnector.html" title="Pixiurge::EngineConnector (class)">Pixiurge::EngineConnector</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The Pixiurge EngineConnector this Displayable belongs to</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


81
82
83
84
85
86</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pixiurge/displayable/tile_animated_sprite.rb', line 81</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span> <span class='id identifier rubyid_parameters'>parameters</span><span class='comma'>,</span> <span class='label'>name:</span><span class='comma'>,</span> <span class='label'>engine_connector:</span>
  <span class='ivar'>@parameters</span> <span class='op'>=</span> <span class='id identifier rubyid_parameters'>parameters</span>
  <span class='ivar'>@displayable_type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>tile_animated_sprite</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_check_parameters'>check_parameters</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='label'>name:</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>engine_connector:</span> <span class='id identifier rubyid_engine_connector'>engine_connector</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="messages_to_show_player-instance_method">
  
    #<strong>messages_to_show_player</strong>(player)  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Show this Displayable to a player.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>player</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Player.html" title="Pixiurge::Player (class)">Pixiurge::Player</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The player to show this Displayable to</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Messages to show the TileAnimatedSprite via JSON</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93
94
95
96
97</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pixiurge/displayable/tile_animated_sprite.rb', line 93</span>

<span class='kw'>def</span> <span class='id identifier rubyid_messages_to_show_player'>messages_to_show_player</span><span class='lparen'>(</span><span class='id identifier rubyid_player'>player</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_messages'>messages</span> <span class='op'>=</span> <span class='kw'>super</span>
  <span class='id identifier rubyid_messages'>messages</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>params</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='ivar'>@parameters</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_messages'>messages</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Jan 29 15:15:19 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.3.1).
</div>

    </div>
  </body>
</html>